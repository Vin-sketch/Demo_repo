name: Sample_Pipeline
on:
  workflow_dispatch:
    inputs: ${{include('../../input.yml')}}
jobs:
  Build:
    runs-on: ubuntu-latest
    environment:
      name: Build
    steps:
      - uses: actions/checkout@v2
      - name: Compile
        run: |
          echo Hello, ${{vars.build_job}} is done! 
  DeployDev:
    if: (github.event.inputs.Environment_Selection == 'Dev')
    runs-on: ubuntu-latest
    environment: 
      name: Dev
    steps:
      - name: Deploy
        run: |
          echo Datebase Host : ${{secrets.DB_Host}} 
          echo database password:  ${{secrets.DB_PASSWORD}}
          echo Hello, ${{vars.first_variable}} is done!


  DeployTest:
    if: (github.event.inputs.Environment_Selection == 'Test')
    runs-on: ubuntu-latest
    environment: 
      name: Test
    steps:
      - name: Deploy
        run: echo Hello, ${{vars.name}} is done!

  DeployProd:
    if: (github.event.inputs.Environment_Selection == 'Prod')
    runs-on: ubuntu-latest
    environment: 
      name: Prod
    steps:
      - name: Deploy
        run: echo Hello, ${{vars.first_variable}} is done!